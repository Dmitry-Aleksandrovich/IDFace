# –°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ª–∏—Ü —Å –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ–º –≤ Telegram

## üìå –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ö—É—Ä—Å–æ–≤–æ–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–∏—Å—Ç–µ–º—É –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ª–∏—Ü —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å Telegram.

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç:

- Backend –Ω–∞ FastAPI
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ª–∏—Ü —Å –ø–æ–º–æ—â—å—é `face_recognition`
- –•—Ä–∞–Ω–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –≤ PostgreSQL
- Docker –∏ docker-compose –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
- Telegram-–±–æ—Ç –¥–ª—è –æ–ø–æ–≤–µ—â–µ–Ω–∏–π

---

## üß† –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- Python 3.9
- FastAPI
- SQLAlchemy
- PostgreSQL
- Docker / Docker Compose
- OpenCV
- face_recognition
- Telegram Bot API
- Jinja2
- HTML / CSS / JS

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
project/
‚îú‚îÄ‚îÄ app/                    # Backend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ main.py             # –û—Å–Ω–æ–≤–Ω–æ–π API
‚îÇ   ‚îú‚îÄ‚îÄ models.py           # –ú–æ–¥–µ–ª—å –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ database.py         # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ templates/          # HTML-—à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ static/             # –°—Ç–∏–ª–∏ –∏ JS
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile          # Dockerfile –¥–ª—è backend
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ camera/                 # –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å —Å –∫–∞–º–µ—Ä–æ–π
‚îÇ   ‚îî‚îÄ‚îÄ camera_app.py       # –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞–¥—Ä–æ–≤ —Å –∫–∞–º–µ—Ä—ã
‚îú‚îÄ‚îÄ static/faces/           # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª–∏—Ü
‚îú‚îÄ‚îÄ bd_face/                # –°–Ω–∏–º–∫–∏ –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ fast-create-db.sh       # –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ë–î
‚îú‚îÄ‚îÄ docker-compose.yml      # –ö–æ–º–ø–æ–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
‚îî‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
```

---

## ‚öôÔ∏è –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### 1. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://gitlab.com/gersimok/diplom-spo.git
cd face-recognition-app
```

### 2. –°–æ–∑–¥–∞–π `.tg_key.env` —Ñ–∞–π–ª

```env
telegram_bot_token=your_telegram_token
telegram_chat_id=your_telegram_chat_id
```

### 3. –ó–∞–ø—É—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—É

```bash
docker-compose up --build
```

### 4. –ö–∞–º–µ—Ä–∞

```bash
python3 camera/camera_app.py
```

---

## üåê –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API

| –ú–µ—Ç–æ–¥ | URL               | –û–ø–∏—Å–∞–Ω–∏–µ                      |
|-------|-------------------|-------------------------------|
| POST  | /add-person       | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–µ–ª–æ–≤–µ–∫–∞           |
| POST  | /search-face      | –ü–æ–∏—Å–∫ –ª–∏—Ü–∞                    |
| GET   | /                 | –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–≤–≤–æ–¥ –ª–∏—Ü–∞)  |
| GET   | /search           | –ü–æ–∏—Å–∫ –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é          |
| GET   | /people           | –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ª–∏—Ü            |

---

## üì∏ –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

1. –ö–∞–º–µ—Ä–∞ –¥–µ–ª–∞–µ—Ç —Å–Ω–∏–º–∫–∏ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
2. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –Ω–∞ `/search-face`
3. –ï—Å–ª–∏ –ª–∏—Ü–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ –±–∞–∑–µ ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Telegram-–æ–ø–æ–≤–µ—â–µ–Ω–∏–µ —Å IP, –∏–º–µ–Ω–µ–º —Ö–æ—Å—Ç–∞ –∏ –≤—Ä–µ–º–µ–Ω–µ–º

---

## üì¨ –ü—Ä–∏–º–µ—Ä Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

```
üîí –û–ø–æ–≤–µ—â–µ–Ω–∏–µ!
–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ –ª–∏—Ü–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ

Unix-–≤—Ä–µ–º—è: 1713148735
–õ–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è: 2025-04-15 16:58:55
IP-–∞–¥—Ä–µ—Å: 192.168.1.15
–î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è: dmitry-lab.local
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –ª–∏—Ü —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∏–¥–µ JSON-—Å—Ç—Ä–æ–∫
- –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –ª–∏—Ü –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –ø–æ –∏–º–µ–Ω–∏
- –ü–æ—Ä–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ –∫–æ–¥–µ (`threshold = 0.6`)

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

–ó–∞–ø—É—Å–∫ FastAPI –≤—Ä—É—á–Ω—É—é (–±–µ–∑ Docker):

```bash
uvicorn app.main:app --reload
```

---

## üß™ TODO / –ò–¥–µ–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è

- –î–æ–±–∞–≤–∏—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫ –≤—Ö–æ–¥–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
- –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ GPU-—É—Å–∫–æ—Ä–µ–Ω–∏–µ –¥–ª—è face_recognition
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –≤–∏–¥–µ–æ

---

## üßë‚Äçüíª –ê–≤—Ç–æ—Ä

**–î–º–∏—Ç—Ä–∏–π –ü–∞–≤–ª–µ–Ω–∫–æ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á**  
–ö—É—Ä—Å: 4 —Å–ø–æ  
–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ  
Email: dmitry.pavlenko.2005@bk.ru

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License